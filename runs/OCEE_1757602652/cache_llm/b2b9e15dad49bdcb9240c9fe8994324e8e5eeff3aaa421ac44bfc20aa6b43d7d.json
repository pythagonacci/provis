{
  "steps": [
    {
      "label": "Receive Request",
      "detail": "The API endpoint receives a request to edit a slide in a deck.",
      "scenario": "A valid request is made to /{deck_id}/slides/{index}/ai-edit with the necessary parameters."
    },
    {
      "label": "Validate Input",
      "detail": "The input data is validated against the defined schemas.",
      "scenario": "The input data conforms to the schemas defined in backend/app/schemas/deck.py."
    },
    {
      "label": "Fetch Deck",
      "detail": "The system retrieves the specified deck from the database.",
      "scenario": "The deck with the given deck_id exists in the database."
    },
    {
      "label": "Fetch Slide",
      "detail": "The system retrieves the specified slide from the deck.",
      "scenario": "The slide at the specified index exists in the deck."
    },
    {
      "label": "Process AI Edit",
      "detail": "The system processes the AI editing request using the AI service.",
      "scenario": "The AI service successfully returns the edited slide content."
    },
    {
      "label": "Update Slide",
      "detail": "The system updates the slide with the new content returned by the AI service.",
      "scenario": "The slide is successfully updated in the database."
    },
    {
      "label": "Return Response",
      "detail": "The system sends a success response back to the client.",
      "scenario": "The response includes the updated slide data."
    }
  ],
  "edge_cases": [
    {
      "label": "Deck Not Found",
      "detail": "The specified deck_id does not exist in the database.",
      "scenario": "The API returns a 404 Not Found error."
    },
    {
      "label": "Slide Index Out of Range",
      "detail": "The specified index for the slide does not exist in the deck.",
      "scenario": "The API returns a 400 Bad Request error."
    },
    {
      "label": "AI Service Failure",
      "detail": "The AI service fails to process the editing request.",
      "scenario": "The API returns a 500 Internal Server Error."
    }
  ]
}