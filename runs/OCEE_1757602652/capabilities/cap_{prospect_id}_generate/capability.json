{
  "id": "cap_{prospect_id}_generate",
  "name": "{prospect_id}/generate",
  "purpose": "Receive Request",
  "title": "{prospect_id}/generate",
  "status": "healthy",
  "anchors": [
    {
      "path": "backend/app/routers/deck.py",
      "kind": "api",
      "route": "/{prospect_id}/generate"
    },
    {
      "path": "backend/app/routers/email.py",
      "kind": "api",
      "route": "/{prospect_id}/generate"
    }
  ],
  "lanes": {
    "web": [],
    "api": [
      {
        "path": "backend/app/config.py"
      },
      {
        "path": "backend/app/database.py"
      },
      {
        "path": "backend/app/main.py"
      },
      {
        "path": "backend/app/models/deck.py"
      },
      {
        "path": "backend/app/models/email.py"
      },
      {
        "path": "backend/app/models/prospect.py"
      },
      {
        "path": "backend/app/routers/deck.py"
      },
      {
        "path": "backend/app/routers/email.py"
      },
      {
        "path": "backend/app/routers/prospect.py"
      },
      {
        "path": "backend/app/schemas/deck.py"
      },
      {
        "path": "backend/app/schemas/email.py"
      },
      {
        "path": "backend/app/services/ai.py"
      },
      {
        "path": "backend/app/services/emailgeneration.py"
      },
      {
        "path": "backend/app/services/pdf.py"
      },
      {
        "path": "backend/app/services/slides.py"
      }
    ],
    "workers": [],
    "other": []
  },
  "flow": [
    {
      "from": "backend/app/config.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/config.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/config.py",
      "to": "pydantic",
      "kind": "call"
    },
    {
      "from": "backend/app/database.py",
      "to": "sqlalchemy.orm",
      "kind": "call"
    },
    {
      "from": "backend/app/database.py",
      "to": "config",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "fastapi",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "config",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "database",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/prospect.py",
      "to": "fastapi",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/prospect.py",
      "to": "sqlalchemy.orm",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/prospect.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/prospect.py",
      "to": "database",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "json",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "fastapi",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "sqlalchemy.orm",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "pydantic",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "database",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "models.prospect",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "models.deck",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "schemas.deck",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "services.ai",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "services.pdf",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "services.slides",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "config",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "fastapi",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "sqlalchemy.orm",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "pydantic",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "database",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "models.prospect",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "models.email",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "schemas.email",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "services.emailgeneration",
      "kind": "call"
    },
    {
      "from": "backend/app/models/prospect.py",
      "to": "sqlalchemy.orm",
      "kind": "call"
    },
    {
      "from": "backend/app/models/prospect.py",
      "to": "database",
      "kind": "call"
    },
    {
      "from": "backend/app/models/deck.py",
      "to": "sqlalchemy.orm",
      "kind": "call"
    },
    {
      "from": "backend/app/models/deck.py",
      "to": "database",
      "kind": "call"
    },
    {
      "from": "backend/app/models/email.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/models/email.py",
      "to": "sqlalchemy.orm",
      "kind": "call"
    },
    {
      "from": "backend/app/models/email.py",
      "to": "database",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/prospect.py",
      "to": "pydantic",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/prospect.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/deck.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/deck.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/deck.py",
      "to": "pydantic",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/email.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/email.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/schemas/email.py",
      "to": "pydantic",
      "kind": "call"
    },
    {
      "from": "backend/app/services/emailgeneration.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/services/emailgeneration.py",
      "to": "json",
      "kind": "call"
    },
    {
      "from": "backend/app/services/emailgeneration.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/services/emailgeneration.py",
      "to": "config",
      "kind": "call"
    },
    {
      "from": "backend/app/services/ai.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/services/ai.py",
      "to": "json",
      "kind": "call"
    },
    {
      "from": "backend/app/services/ai.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/services/ai.py",
      "to": "config",
      "kind": "call"
    },
    {
      "from": "backend/app/services/pdf.py",
      "to": "__future__",
      "kind": "call"
    },
    {
      "from": "backend/app/services/pdf.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/services/pdf.py",
      "to": "config",
      "kind": "call"
    },
    {
      "from": "backend/app/services/slides.py",
      "to": "typing",
      "kind": "call"
    },
    {
      "from": "backend/app/services/slides.py",
      "to": "config",
      "kind": "call"
    }
  ],
  "data": {
    "inputs": [
      {
        "path": "backend/app/routers/deck.py",
        "why": "Handles incoming requests related to deck operations."
      },
      {
        "path": "backend/app/routers/email.py",
        "why": "Handles incoming requests related to email operations."
      },
      {
        "path": "backend/app/routers/prospect.py",
        "why": "Handles incoming requests related to prospect operations."
      }
    ],
    "stores": [
      {
        "path": "backend/app/database.py",
        "why": "Defines the database connection and ORM setup for data storage."
      },
      {
        "path": "backend/app/models/prospect.py",
        "why": "Defines the data model for prospects, representing stored data structure."
      },
      {
        "path": "backend/app/models/deck.py",
        "why": "Defines the data model for decks, representing stored data structure."
      },
      {
        "path": "backend/app/models/email.py",
        "why": "Defines the data model for emails, representing stored data structure."
      }
    ],
    "externals": [
      {
        "path": "fastapi",
        "why": "Framework used for building the web API."
      },
      {
        "path": "sqlalchemy.orm",
        "why": "ORM library used for database interactions."
      },
      {
        "path": "pydantic",
        "why": "Library used for data validation and settings management."
      }
    ]
  },
  "entrypoints": [
    {
      "path": "backend/app/routers/deck.py",
      "framework": "fastapi",
      "kind": "api",
      "route": "/{prospect_id}/generate"
    },
    {
      "path": "backend/app/routers/email.py",
      "framework": "fastapi",
      "kind": "api",
      "route": "/{prospect_id}/generate"
    }
  ],
  "entryPoints": [
    "backend/app/routers/deck.py",
    "backend/app/routers/email.py"
  ],
  "swimlanes": {
    "web": [],
    "api": [
      "backend/app/config.py",
      "backend/app/database.py",
      "backend/app/main.py",
      "backend/app/models/deck.py",
      "backend/app/models/email.py",
      "backend/app/models/prospect.py",
      "backend/app/routers/deck.py",
      "backend/app/routers/email.py",
      "backend/app/routers/prospect.py",
      "backend/app/schemas/deck.py",
      "backend/app/schemas/email.py",
      "backend/app/services/ai.py",
      "backend/app/services/emailgeneration.py",
      "backend/app/services/pdf.py",
      "backend/app/services/slides.py"
    ],
    "workers": [],
    "other": []
  },
  "control_flow": [
    {
      "from": "backend/app/database.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/prospect.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/models/prospect.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/models/deck.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/schemas/deck.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/services/ai.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/services/pdf.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/services/slides.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/models/prospect.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/models/email.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/schemas/email.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/services/emailgeneration.py",
      "kind": "call"
    },
    {
      "from": "backend/app/models/prospect.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/models/deck.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/models/email.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/emailgeneration.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/ai.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/pdf.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/slides.py",
      "to": "backend/app/config.py",
      "kind": "call"
    }
  ],
  "data_flow": {
    "inputs": [
      {
        "type": "env",
        "key": "ALLOWED_ORIGINS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "ALLOWED_ORIGINS",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "APP_BASE_URL",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "APP_BASE_URL",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "BULLET_MAX_CHARS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "BULLET_MAX_CHARS",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "DB_URL",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "DB_URL",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "FILE_STORAGE_DIR",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "FILE_STORAGE_DIR",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "MAX_BULLETS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "MAX_BULLETS",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "OPENAI_API_KEY",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "OPENAI_API_KEY",
          "value": "***REDACTED***"
        }
      },
      {
        "type": "env",
        "key": "STUB_MODE",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "STUB_MODE",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "TITLE_MAX_CHARS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "TITLE_MAX_CHARS",
          "value": "example_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "",
        "handler": "create_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "",
        "handler": "list_prospects",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "get_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/{prospect_id}",
        "handler": "update_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "SlideAIEditRequest",
        "fields": [
          {
            "name": "prompt",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/routers/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/deck.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/deck.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/pdf.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/slides.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "prompt": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{deck_id}",
        "handler": "get_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/{deck_id}",
        "handler": "update_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{deck_id}/render",
        "handler": "render_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{deck_id}/slides/{index}",
        "handler": "get_slide",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/{deck_id}/slides/{index}",
        "handler": "patch_slide",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{deck_id}/slides/{index}/ai-edit",
        "handler": "ai_edit_slide",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/debug/ai-edit-test",
        "handler": "debug_ai_edit_test",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "EmailAIEditRequest",
        "fields": [
          {
            "name": "prompt",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/routers/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/email.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/email.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/services/emailgeneration.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "prompt": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_email_sequence",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "list_emails_for_prospect",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/item/{email_id}",
        "handler": "get_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/item/{email_id}",
        "handler": "update_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "DELETE",
        "path": "/item/{email_id}",
        "handler": "delete_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/item/{email_id}/ai-edit",
        "handler": "ai_edit_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "ProspectCreate",
        "fields": [
          {
            "name": "company_name",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "contact_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "email",
            "type": "EmailStr",
            "required": false,
            "default": null
          },
          {
            "name": "phone_number",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "industry",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "revenue_range",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "location",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "sale_motivation",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "signals",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "notes",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "company_name": "John Doe"
        }
      },
      {
        "type": "requestSchema",
        "name": "ProspectUpdate",
        "fields": [
          {
            "name": "company_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "contact_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "email",
            "type": "EmailStr",
            "required": false,
            "default": null
          },
          {
            "name": "phone_number",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "industry",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "revenue_range",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "location",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "sale_motivation",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "signals",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "notes",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Slide",
        "fields": [
          {
            "name": "title",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "bullets",
            "type": "Any",
            "required": true,
            "default": "Field(default_factory=list)"
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "title": "sample_value",
          "bullets": "Field(default_factory=list)"
        }
      },
      {
        "type": "requestSchema",
        "name": "DeckOut",
        "fields": [
          {
            "name": "id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "prospect_id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "title",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "slides",
            "type": "Any",
            "required": true,
            "default": null
          },
          {
            "name": "pdf_url",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "id": 42,
          "prospect_id": 42,
          "title": "sample_value",
          "slides": "example"
        }
      },
      {
        "type": "requestSchema",
        "name": "SlideIn",
        "fields": [
          {
            "name": "title",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "bullets",
            "type": "Any",
            "required": true,
            "default": "Field(default_factory=list)"
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "title": "sample_value",
          "bullets": "Field(default_factory=list)"
        }
      },
      {
        "type": "requestSchema",
        "name": "DeckUpdate",
        "fields": [
          {
            "name": "title",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "slides",
            "type": "Any",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "slides": "example"
        }
      },
      {
        "type": "requestSchema",
        "name": "EmailOut",
        "fields": [
          {
            "name": "id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "prospect_id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "sequence_index",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "subject",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "body",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "id": 42,
          "prospect_id": 42,
          "sequence_index": 42,
          "subject": "sample_value",
          "body": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "EmailIn",
        "fields": [
          {
            "name": "subject",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "body",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "subject": "sample_value",
          "body": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "EmailUpdate",
        "fields": [
          {
            "name": "subject",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "body",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "EmailBatchOut",
        "fields": [
          {
            "name": "items",
            "type": "Any",
            "required": true,
            "default": "Field(default_factory=list)"
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "items": "Field(default_factory=list)"
        }
      },
      {
        "type": "requestSchema",
        "name": "ProspectContext",
        "fields": [
          {
            "name": "company_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "contact_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "industry",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "revenue_range",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "location",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "sale_motivation",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "signals",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      }
    ],
    "stores": [
      {
        "type": "dbModel",
        "name": "slidepatchs",
        "columns": [],
        "path": "backend/app/routers/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/pdf.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/slides.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "slideaieditrequests",
        "columns": [],
        "path": "backend/app/routers/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/pdf.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/slides.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailaieditrequests",
        "columns": [],
        "path": "backend/app/routers/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/services/emailgeneration.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospects",
        "columns": [],
        "path": "backend/app/models/prospect.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/models/prospect.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "decks",
        "columns": [],
        "path": "backend/app/models/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/models/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emails",
        "columns": [],
        "path": "backend/app/models/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/models/email.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospectcreates",
        "columns": [],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospectupdates",
        "columns": [],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "slides",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "deckouts",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "slideins",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "deckupdates",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailouts",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailins",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailupdates",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailbatchouts",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospectcontexts",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      }
    ],
    "externals": [
      {
        "type": "api",
        "name": "OpenAI",
        "client": "backend/app/services/emailgeneration.py",
        "base_url": null,
        "path": "backend/app/services/emailgeneration.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/services/emailgeneration.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "calls"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "calls"
          }
        ],
        "usedFor": "External service/client calls.",
        "example": {}
      },
      {
        "type": "api",
        "name": "OpenAI",
        "client": "backend/app/services/ai.py",
        "base_url": null,
        "path": "backend/app/services/ai.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "calls"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "calls"
          }
        ],
        "usedFor": "External service/client calls.",
        "example": {}
      }
    ],
    "outputs": [
      {
        "type": "responseSchema",
        "name": "ProspectOut",
        "method": "POST",
        "path": "",
        "handler": "create_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "ProspectOut",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "get_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "ProspectOut",
        "method": "PATCH",
        "path": "/{prospect_id}",
        "handler": "update_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "GET",
        "path": "/{deck_id}",
        "handler": "get_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "PATCH",
        "path": "/{deck_id}",
        "handler": "update_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "POST",
        "path": "/{deck_id}/render",
        "handler": "render_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailBatchOut",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_email_sequence",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailBatchOut",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "list_emails_for_prospect",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailOut",
        "method": "GET",
        "path": "/item/{email_id}",
        "handler": "get_email",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailOut",
        "method": "PATCH",
        "path": "/item/{email_id}",
        "handler": "update_email",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailOut",
        "method": "POST",
        "path": "/item/{email_id}/ai-edit",
        "handler": "ai_edit_email",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      }
    ]
  },
  "policies": [
    {
      "type": "middleware",
      "name": "CORSMiddleware",
      "path": "backend/app/main.py",
      "appliedAt": "backend/app/main.py:18"
    },
    {
      "type": "middleware",
      "name": "CORSMiddleware",
      "path": "backend/app/main.py",
      "appliedAt": "backend/app/main.py"
    },
    {
      "type": "dependency",
      "name": "Depends",
      "path": "backend/app/routers/prospect.py",
      "appliedAt": "backend/app/routers/prospect.py:11"
    },
    {
      "type": "dependency",
      "name": "Depends",
      "path": "backend/app/routers/prospect.py",
      "appliedAt": "backend/app/routers/prospect.py:30"
    },
    {
      "type": "dependency",
      "name": "Depends",
      "path": "backend/app/routers/prospect.py",
      "appliedAt": "backend/app/routers/prospect.py:34"
    }
  ],
  "contracts": [
    {
      "kind": "request",
      "name": "Session",
      "path": "",
      "fields": []
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/{prospect_id}",
      "fields": []
    },
    {
      "kind": "request",
      "name": "SlideAIEditRequest",
      "path": "backend/app/routers/deck.py",
      "fields": [
        {
          "name": "prompt",
          "type": "str",
          "required": true,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/{prospect_id}/generate",
      "fields": []
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/{deck_id}",
      "fields": []
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/{deck_id}/render",
      "fields": []
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/{deck_id}/slides/{index}",
      "fields": []
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/{deck_id}/slides/{index}/ai-edit",
      "fields": []
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/debug/ai-edit-test",
      "fields": []
    },
    {
      "kind": "request",
      "name": "EmailAIEditRequest",
      "path": "backend/app/routers/email.py",
      "fields": [
        {
          "name": "prompt",
          "type": "str",
          "required": true,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/item/{email_id}",
      "fields": []
    },
    {
      "kind": "request",
      "name": "Session",
      "path": "/item/{email_id}/ai-edit",
      "fields": []
    },
    {
      "kind": "request",
      "name": "ProspectCreate",
      "path": "backend/app/schemas/prospect.py",
      "fields": [
        {
          "name": "company_name",
          "type": "str",
          "required": true,
          "default": null
        },
        {
          "name": "contact_name",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "email",
          "type": "EmailStr",
          "required": false,
          "default": null
        },
        {
          "name": "phone_number",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "industry",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "revenue_range",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "location",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "sale_motivation",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "signals",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "notes",
          "type": "str",
          "required": false,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "ProspectUpdate",
      "path": "backend/app/schemas/prospect.py",
      "fields": [
        {
          "name": "company_name",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "contact_name",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "email",
          "type": "EmailStr",
          "required": false,
          "default": null
        },
        {
          "name": "phone_number",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "industry",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "revenue_range",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "location",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "sale_motivation",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "signals",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "notes",
          "type": "str",
          "required": false,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "Slide",
      "path": "backend/app/schemas/deck.py",
      "fields": [
        {
          "name": "title",
          "type": "str",
          "required": true,
          "default": null
        },
        {
          "name": "bullets",
          "type": "Any",
          "required": true,
          "default": "Field(default_factory=list)"
        }
      ]
    },
    {
      "kind": "request",
      "name": "DeckOut",
      "path": "backend/app/schemas/deck.py",
      "fields": [
        {
          "name": "id",
          "type": "int",
          "required": true,
          "default": null
        },
        {
          "name": "prospect_id",
          "type": "int",
          "required": true,
          "default": null
        },
        {
          "name": "title",
          "type": "str",
          "required": true,
          "default": null
        },
        {
          "name": "slides",
          "type": "Any",
          "required": true,
          "default": null
        },
        {
          "name": "pdf_url",
          "type": "str",
          "required": false,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "SlideIn",
      "path": "backend/app/schemas/deck.py",
      "fields": [
        {
          "name": "title",
          "type": "str",
          "required": true,
          "default": null
        },
        {
          "name": "bullets",
          "type": "Any",
          "required": true,
          "default": "Field(default_factory=list)"
        }
      ]
    },
    {
      "kind": "request",
      "name": "DeckUpdate",
      "path": "backend/app/schemas/deck.py",
      "fields": [
        {
          "name": "title",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "slides",
          "type": "Any",
          "required": true,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "EmailOut",
      "path": "backend/app/schemas/email.py",
      "fields": [
        {
          "name": "id",
          "type": "int",
          "required": true,
          "default": null
        },
        {
          "name": "prospect_id",
          "type": "int",
          "required": true,
          "default": null
        },
        {
          "name": "sequence_index",
          "type": "int",
          "required": true,
          "default": null
        },
        {
          "name": "subject",
          "type": "str",
          "required": true,
          "default": null
        },
        {
          "name": "body",
          "type": "str",
          "required": true,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "EmailIn",
      "path": "backend/app/schemas/email.py",
      "fields": [
        {
          "name": "subject",
          "type": "str",
          "required": true,
          "default": null
        },
        {
          "name": "body",
          "type": "str",
          "required": true,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "EmailUpdate",
      "path": "backend/app/schemas/email.py",
      "fields": [
        {
          "name": "subject",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "body",
          "type": "str",
          "required": false,
          "default": null
        }
      ]
    },
    {
      "kind": "request",
      "name": "EmailBatchOut",
      "path": "backend/app/schemas/email.py",
      "fields": [
        {
          "name": "items",
          "type": "Any",
          "required": true,
          "default": "Field(default_factory=list)"
        }
      ]
    },
    {
      "kind": "request",
      "name": "ProspectContext",
      "path": "backend/app/schemas/email.py",
      "fields": [
        {
          "name": "company_name",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "contact_name",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "industry",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "revenue_range",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "location",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "sale_motivation",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "signals",
          "type": "str",
          "required": false,
          "default": null
        }
      ]
    },
    {
      "kind": "response",
      "name": "ProspectOut",
      "path": "backend/app/routers/prospect.py",
      "fields": []
    },
    {
      "kind": "response",
      "name": "DeckOut",
      "path": "backend/app/routers/deck.py",
      "fields": []
    },
    {
      "kind": "response",
      "name": "EmailBatchOut",
      "path": "backend/app/routers/email.py",
      "fields": []
    },
    {
      "kind": "response",
      "name": "EmailOut",
      "path": "backend/app/routers/email.py",
      "fields": []
    },
    {
      "kind": "pydantic.Model",
      "name": "Settings",
      "fields": [
        {
          "name": "DB_URL",
          "type": "str",
          "required": true,
          "default": "sqlite:///./bdr.db"
        },
        {
          "name": "APP_BASE_URL",
          "type": "str",
          "required": true,
          "default": "http://localhost:8000"
        },
        {
          "name": "FILE_STORAGE_DIR",
          "type": "str",
          "required": true,
          "default": "./app/generated"
        },
        {
          "name": "OPENAI_API_KEY",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "STUB_MODE",
          "type": "bool",
          "required": true,
          "default": true
        },
        {
          "name": "ALLOWED_ORIGINS",
          "type": "str",
          "required": true,
          "default": "*"
        },
        {
          "name": "TITLE_MAX_CHARS",
          "type": "int",
          "required": true,
          "default": 200
        },
        {
          "name": "BULLET_MAX_CHARS",
          "type": "int",
          "required": true,
          "default": 500
        },
        {
          "name": "MAX_BULLETS",
          "type": "int",
          "required": true,
          "default": 8
        }
      ],
      "path": "backend/app/config.py"
    },
    {
      "kind": "pydantic.Model",
      "name": "SlidePatch",
      "fields": [
        {
          "name": "title",
          "type": "str",
          "required": false,
          "default": null
        },
        {
          "name": "bullets",
          "type": "Any",
          "required": false,
          "default": null
        }
      ],
      "path": "backend/app/routers/deck.py"
    },
    {
      "kind": "sqlalchemy",
      "name": "Prospect",
      "table": "prospects",
      "columns": [],
      "path": "backend/app/models/prospect.py"
    },
    {
      "kind": "sqlalchemy",
      "name": "Deck",
      "table": "decks",
      "columns": [],
      "path": "backend/app/models/deck.py"
    },
    {
      "kind": "sqlalchemy",
      "name": "Email",
      "table": "emails",
      "columns": [],
      "path": "backend/app/models/email.py"
    }
  ],
  "summaries": {
    "README.md": {
      "summary": "Supporting module with 0 connections"
    },
    ".gitignore": {
      "summary": "Supporting module with 0 connections"
    },
    "backend/requirements.txt": {
      "summary": "Supporting module with 0 connections"
    },
    "backend/migrate_add_phone.py": {
      "summary": "Supporting module with 0 connections"
    },
    "backend/app/config.py": {
      "summary": "Application configuration and settings"
    },
    "backend/app/database.py": {
      "summary": "Database connection and setup"
    },
    "backend/app/__init__.py": {
      "summary": "Supporting module with 0 connections"
    },
    "backend/app/main.py": {
      "summary": "FastAPI application entry point"
    },
    "backend/app/routers/prospect.py": {
      "summary": "FastAPI router with 1 outgoing calls"
    },
    "backend/app/routers/deck.py": {
      "summary": "FastAPI router with 8 outgoing calls"
    },
    "backend/app/routers/__init__.py": {
      "summary": "FastAPI router with 0 outgoing calls"
    },
    "backend/app/routers/email.py": {
      "summary": "FastAPI router with 5 outgoing calls"
    },
    "backend/app/models/prospect.py": {
      "summary": "Data model with 1 tables"
    },
    "backend/app/models/deck.py": {
      "summary": "Data model with 1 tables"
    },
    "backend/app/models/__init__.py": {
      "summary": "Data model with 0 tables"
    },
    "backend/app/models/email.py": {
      "summary": "Data model with 1 tables"
    },
    "backend/app/schemas/prospect.py": {
      "summary": "Pydantic schema definitions"
    },
    "backend/app/schemas/deck.py": {
      "summary": "Pydantic schema definitions"
    },
    "backend/app/schemas/__init__.py": {
      "summary": "Pydantic schema definitions"
    },
    "backend/app/schemas/email.py": {
      "summary": "Pydantic schema definitions"
    },
    "backend/app/templates/deck.html": {
      "summary": "Supporting module with 0 connections"
    },
    "backend/app/services/emailgeneration.py": {
      "summary": "Service module with 1 dependencies"
    },
    "backend/app/services/ai.py": {
      "summary": "Service module with 1 dependencies"
    },
    "backend/app/services/__init__.py": {
      "summary": "Service module with 0 dependencies"
    },
    "backend/app/services/pdf.py": {
      "summary": "Service module with 1 dependencies"
    },
    "backend/app/services/utils.py": {
      "summary": "Service module with 0 dependencies"
    },
    "backend/app/services/slides.py": {
      "summary": "Service module with 1 dependencies"
    },
    "backend/static/init": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/postcss.config.mjs": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/next-env.d.ts": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/README.md": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/.gitignore": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/package-lock.json": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/package.json": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/tsconfig.json": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/eslint.config.mjs": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/next.config.ts": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/src/types.ts": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/src/app/layout.tsx": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/src/app/page.tsx": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/src/app/globals.css": {
      "summary": "Supporting module with 0 connections"
    },
    "offdeal-frontend/src/lib/api.ts": {
      "summary": "Supporting module with 0 connections"
    }
  },
  "keyFiles": [
    "__future__",
    "backend/app/routers/deck.py",
    "backend/app/routers/email.py",
    "config",
    "sqlalchemy.orm",
    "typing"
  ],
  "steps": [
    {
      "title": "Receive Request",
      "description": "The API receives a request to generate a deck for a specific prospect.",
      "fileId": "backend/app/routers/deck.py"
    },
    {
      "title": "Validate Prospect ID",
      "description": "The system checks if the provided prospect ID exists in the database.",
      "fileId": "backend/app/routers/deck.py"
    },
    {
      "title": "Fetch Prospect Data",
      "description": "The system retrieves the prospect's data from the database.",
      "fileId": "backend/app/models/prospect.py"
    },
    {
      "title": "Generate Deck Content",
      "description": "The system generates the content for the deck using the prospect's data.",
      "fileId": "backend/app/services/ai.py"
    },
    {
      "title": "Create Deck Object",
      "description": "A new deck object is created with the generated content.",
      "fileId": "backend/app/models/prospect.py"
    },
    {
      "title": "Save Deck to Database",
      "description": "The newly created deck is saved to the database.",
      "fileId": "backend/app/models/prospect.py"
    },
    {
      "title": "Send Confirmation Email",
      "description": "An email is sent to the prospect confirming the deck generation.",
      "fileId": "backend/app/services/emailgeneration.py"
    },
    {
      "title": "Return Success Response",
      "description": "The API returns a success response to the client.",
      "fileId": "backend/app/routers/deck.py"
    }
  ],
  "dataIn": [
    "ALLOWED_ORIGINS",
    "APP_BASE_URL",
    "BULLET_MAX_CHARS",
    "DB_URL",
    "DeckOut",
    "DeckUpdate",
    "EmailAIEditRequest",
    "EmailBatchOut",
    "EmailIn",
    "EmailOut",
    "EmailUpdate",
    "FILE_STORAGE_DIR",
    "MAX_BULLETS",
    "OPENAI_API_KEY",
    "ProspectContext",
    "ProspectCreate",
    "ProspectUpdate",
    "STUB_MODE",
    "Session",
    "Slide",
    "SlideAIEditRequest",
    "SlideIn",
    "TITLE_MAX_CHARS"
  ],
  "dataOut": [
    "DeckOut",
    "EmailBatchOut",
    "EmailOut",
    "ProspectOut"
  ],
  "orchestrators": [
    "backend/app/routers/deck.py",
    "backend/app/routers/email.py",
    "backend/app/main.py"
  ],
  "sources": [
    "backend/app/routers/deck.py",
    "backend/app/routers/email.py"
  ],
  "sinks": [
    "backend/app/config.py",
    "backend/app/schemas/deck.py",
    "backend/app/schemas/email.py"
  ],
  "controlFlow": [
    {
      "from": "backend/app/database.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/main.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/prospect.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/models/prospect.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/models/deck.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/schemas/deck.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/services/ai.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/services/pdf.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/services/slides.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/deck.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/models/prospect.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/models/email.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/schemas/email.py",
      "kind": "call"
    },
    {
      "from": "backend/app/routers/email.py",
      "to": "backend/app/services/emailgeneration.py",
      "kind": "call"
    },
    {
      "from": "backend/app/models/prospect.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/models/deck.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/models/email.py",
      "to": "backend/app/database.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/emailgeneration.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/ai.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/pdf.py",
      "to": "backend/app/config.py",
      "kind": "call"
    },
    {
      "from": "backend/app/services/slides.py",
      "to": "backend/app/config.py",
      "kind": "call"
    }
  ],
  "dataFlow": {
    "inputs": [
      {
        "type": "env",
        "key": "ALLOWED_ORIGINS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "ALLOWED_ORIGINS",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "APP_BASE_URL",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "APP_BASE_URL",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "BULLET_MAX_CHARS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "BULLET_MAX_CHARS",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "DB_URL",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "DB_URL",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "FILE_STORAGE_DIR",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "FILE_STORAGE_DIR",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "MAX_BULLETS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "MAX_BULLETS",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "OPENAI_API_KEY",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "OPENAI_API_KEY",
          "value": "***REDACTED***"
        }
      },
      {
        "type": "env",
        "key": "STUB_MODE",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "STUB_MODE",
          "value": "example_value"
        }
      },
      {
        "type": "env",
        "key": "TITLE_MAX_CHARS",
        "path": "backend/app/config.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/database.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/main.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/main.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/pdf.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads env"
          },
          {
            "edge": {
              "from": "backend/app/services/slides.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads env"
          }
        ],
        "usedFor": "Configuration/secret loaded at runtime.",
        "example": {
          "key": "TITLE_MAX_CHARS",
          "value": "example_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "",
        "handler": "create_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "",
        "handler": "list_prospects",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "get_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/{prospect_id}",
        "handler": "update_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "SlideAIEditRequest",
        "fields": [
          {
            "name": "prompt",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/routers/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/deck.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/deck.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/pdf.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/slides.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "prompt": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{deck_id}",
        "handler": "get_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/{deck_id}",
        "handler": "update_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{deck_id}/render",
        "handler": "render_deck",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{deck_id}/slides/{index}",
        "handler": "get_slide",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/{deck_id}/slides/{index}",
        "handler": "patch_slide",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{deck_id}/slides/{index}/ai-edit",
        "handler": "ai_edit_slide",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/debug/ai-edit-test",
        "handler": "debug_ai_edit_test",
        "file_path": "backend/app/routers/deck.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "EmailAIEditRequest",
        "fields": [
          {
            "name": "prompt",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/routers/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/email.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/email.py",
            "action": "validates"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/services/emailgeneration.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "prompt": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_email_sequence",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "list_emails_for_prospect",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "GET",
        "path": "/item/{email_id}",
        "handler": "get_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "PATCH",
        "path": "/item/{email_id}",
        "handler": "update_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "DELETE",
        "path": "/item/{email_id}",
        "handler": "delete_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Session",
        "method": "POST",
        "path": "/item/{email_id}/ai-edit",
        "handler": "ai_edit_email",
        "file_path": "backend/app/routers/email.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "ProspectCreate",
        "fields": [
          {
            "name": "company_name",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "contact_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "email",
            "type": "EmailStr",
            "required": false,
            "default": null
          },
          {
            "name": "phone_number",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "industry",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "revenue_range",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "location",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "sale_motivation",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "signals",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "notes",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "company_name": "John Doe"
        }
      },
      {
        "type": "requestSchema",
        "name": "ProspectUpdate",
        "fields": [
          {
            "name": "company_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "contact_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "email",
            "type": "EmailStr",
            "required": false,
            "default": null
          },
          {
            "name": "phone_number",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "industry",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "revenue_range",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "location",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "sale_motivation",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "signals",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "notes",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "Slide",
        "fields": [
          {
            "name": "title",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "bullets",
            "type": "Any",
            "required": true,
            "default": "Field(default_factory=list)"
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "title": "sample_value",
          "bullets": "Field(default_factory=list)"
        }
      },
      {
        "type": "requestSchema",
        "name": "DeckOut",
        "fields": [
          {
            "name": "id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "prospect_id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "title",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "slides",
            "type": "Any",
            "required": true,
            "default": null
          },
          {
            "name": "pdf_url",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "id": 42,
          "prospect_id": 42,
          "title": "sample_value",
          "slides": "example"
        }
      },
      {
        "type": "requestSchema",
        "name": "SlideIn",
        "fields": [
          {
            "name": "title",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "bullets",
            "type": "Any",
            "required": true,
            "default": "Field(default_factory=list)"
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "title": "sample_value",
          "bullets": "Field(default_factory=list)"
        }
      },
      {
        "type": "requestSchema",
        "name": "DeckUpdate",
        "fields": [
          {
            "name": "title",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "slides",
            "type": "Any",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "slides": "example"
        }
      },
      {
        "type": "requestSchema",
        "name": "EmailOut",
        "fields": [
          {
            "name": "id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "prospect_id",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "sequence_index",
            "type": "int",
            "required": true,
            "default": null
          },
          {
            "name": "subject",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "body",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "id": 42,
          "prospect_id": 42,
          "sequence_index": 42,
          "subject": "sample_value",
          "body": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "EmailIn",
        "fields": [
          {
            "name": "subject",
            "type": "str",
            "required": true,
            "default": null
          },
          {
            "name": "body",
            "type": "str",
            "required": true,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "subject": "sample_value",
          "body": "sample_value"
        }
      },
      {
        "type": "requestSchema",
        "name": "EmailUpdate",
        "fields": [
          {
            "name": "subject",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "body",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      },
      {
        "type": "requestSchema",
        "name": "EmailBatchOut",
        "fields": [
          {
            "name": "items",
            "type": "Any",
            "required": true,
            "default": "Field(default_factory=list)"
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {
          "items": "Field(default_factory=list)"
        }
      },
      {
        "type": "requestSchema",
        "name": "ProspectContext",
        "fields": [
          {
            "name": "company_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "contact_name",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "industry",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "revenue_range",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "location",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "sale_motivation",
            "type": "str",
            "required": false,
            "default": null
          },
          {
            "name": "signals",
            "type": "str",
            "required": false,
            "default": null
          }
        ],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "validates"
          }
        ],
        "usedFor": "Validates incoming request bodies.",
        "example": {}
      }
    ],
    "stores": [
      {
        "type": "dbModel",
        "name": "slidepatchs",
        "columns": [],
        "path": "backend/app/routers/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/pdf.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/slides.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "slideaieditrequests",
        "columns": [],
        "path": "backend/app/routers/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/ai.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/pdf.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/pdf.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/slides.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/slides.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailaieditrequests",
        "columns": [],
        "path": "backend/app/routers/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/prospect.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/models/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/schemas/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/services/emailgeneration.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/services/emailgeneration.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospects",
        "columns": [],
        "path": "backend/app/models/prospect.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/prospect.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/models/prospect.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "decks",
        "columns": [],
        "path": "backend/app/models/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/models/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/models/deck.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emails",
        "columns": [],
        "path": "backend/app/models/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/models/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          },
          {
            "edge": {
              "from": "backend/app/models/email.py",
              "to": "backend/app/database.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/database.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospectcreates",
        "columns": [],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospectupdates",
        "columns": [],
        "path": "backend/app/schemas/prospect.py",
        "touches": [],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "slides",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "deckouts",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "slideins",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "deckupdates",
        "columns": [],
        "path": "backend/app/schemas/deck.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/schemas/deck.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailouts",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailins",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailupdates",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "emailbatchouts",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      },
      {
        "type": "dbModel",
        "name": "prospectcontexts",
        "columns": [],
        "path": "backend/app/schemas/email.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/schemas/email.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "reads/writes rows in"
          }
        ],
        "usedFor": "System of record persisted via SQLAlchemy.",
        "example": {
          "id": 1
        }
      }
    ],
    "externals": [
      {
        "type": "api",
        "name": "OpenAI",
        "client": "backend/app/services/emailgeneration.py",
        "base_url": null,
        "path": "backend/app/services/emailgeneration.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/email.py",
              "to": "backend/app/services/emailgeneration.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/email.py",
            "action": "calls"
          },
          {
            "edge": {
              "from": "backend/app/services/emailgeneration.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "calls"
          }
        ],
        "usedFor": "External service/client calls.",
        "example": {}
      },
      {
        "type": "api",
        "name": "OpenAI",
        "client": "backend/app/services/ai.py",
        "base_url": null,
        "path": "backend/app/services/ai.py",
        "touches": [
          {
            "edge": {
              "from": "backend/app/routers/deck.py",
              "to": "backend/app/services/ai.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/routers/deck.py",
            "action": "calls"
          },
          {
            "edge": {
              "from": "backend/app/services/ai.py",
              "to": "backend/app/config.py",
              "kind": "call"
            },
            "via": "call",
            "actor": "backend/app/config.py",
            "action": "calls"
          }
        ],
        "usedFor": "External service/client calls.",
        "example": {}
      }
    ],
    "outputs": [
      {
        "type": "responseSchema",
        "name": "ProspectOut",
        "method": "POST",
        "path": "",
        "handler": "create_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "ProspectOut",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "get_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "ProspectOut",
        "method": "PATCH",
        "path": "/{prospect_id}",
        "handler": "update_prospect",
        "file_path": "backend/app/routers/prospect.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "GET",
        "path": "/{deck_id}",
        "handler": "get_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "PATCH",
        "path": "/{deck_id}",
        "handler": "update_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "DeckOut",
        "method": "POST",
        "path": "/{deck_id}/render",
        "handler": "render_deck",
        "file_path": "backend/app/routers/deck.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailBatchOut",
        "method": "POST",
        "path": "/{prospect_id}/generate",
        "handler": "generate_email_sequence",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailBatchOut",
        "method": "GET",
        "path": "/{prospect_id}",
        "handler": "list_emails_for_prospect",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailOut",
        "method": "GET",
        "path": "/item/{email_id}",
        "handler": "get_email",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailOut",
        "method": "PATCH",
        "path": "/item/{email_id}",
        "handler": "update_email",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      },
      {
        "type": "responseSchema",
        "name": "EmailOut",
        "method": "POST",
        "path": "/item/{email_id}/ai-edit",
        "handler": "ai_edit_email",
        "file_path": "backend/app/routers/email.py",
        "usedFor": "Defines response structure.",
        "example": {
          "example": true
        }
      }
    ]
  },
  "nodeIndex": {
    "backend/app/config.py": {
      "lane": "api",
      "role": "sink",
      "incoming": [
        "backend/app/database.py",
        "backend/app/main.py",
        "backend/app/routers/deck.py",
        "backend/app/services/emailgeneration.py",
        "backend/app/services/ai.py",
        "backend/app/services/pdf.py",
        "backend/app/services/slides.py"
      ],
      "outgoing": [],
      "policies": [],
      "envs": [],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests",
        "OpenAI",
        "OpenAI"
      ],
      "reqSchemas": [
        "SlideAIEditRequest"
      ]
    },
    "backend/app/database.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/main.py",
        "backend/app/routers/prospect.py",
        "backend/app/routers/deck.py",
        "backend/app/routers/email.py",
        "backend/app/models/prospect.py",
        "backend/app/models/deck.py",
        "backend/app/models/email.py"
      ],
      "outgoing": [
        "backend/app/config.py"
      ],
      "policies": [],
      "envs": [
        "ALLOWED_ORIGINS",
        "APP_BASE_URL",
        "BULLET_MAX_CHARS",
        "DB_URL",
        "FILE_STORAGE_DIR",
        "MAX_BULLETS",
        "OPENAI_API_KEY",
        "STUB_MODE",
        "TITLE_MAX_CHARS"
      ],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests",
        "emailaieditrequests",
        "prospects",
        "decks",
        "emails"
      ],
      "reqSchemas": [
        "SlideAIEditRequest",
        "EmailAIEditRequest"
      ]
    },
    "backend/app/main.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [],
      "outgoing": [
        "backend/app/config.py",
        "backend/app/database.py"
      ],
      "policies": [
        {
          "type": "middleware",
          "name": "CORSMiddleware",
          "path": "backend/app/main.py",
          "appliedAt": "backend/app/main.py:18"
        },
        {
          "type": "middleware",
          "name": "CORSMiddleware",
          "path": "backend/app/main.py",
          "appliedAt": "backend/app/main.py"
        }
      ],
      "envs": [
        "ALLOWED_ORIGINS",
        "APP_BASE_URL",
        "BULLET_MAX_CHARS",
        "DB_URL",
        "FILE_STORAGE_DIR",
        "MAX_BULLETS",
        "OPENAI_API_KEY",
        "STUB_MODE",
        "TITLE_MAX_CHARS"
      ],
      "relatedData": [],
      "reqSchemas": []
    },
    "backend/app/models/deck.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/routers/deck.py"
      ],
      "outgoing": [
        "backend/app/database.py"
      ],
      "policies": [],
      "envs": [],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests"
      ],
      "reqSchemas": [
        "SlideAIEditRequest"
      ]
    },
    "backend/app/models/email.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/routers/email.py"
      ],
      "outgoing": [
        "backend/app/database.py"
      ],
      "policies": [],
      "envs": [],
      "relatedData": [
        "emailaieditrequests"
      ],
      "reqSchemas": [
        "EmailAIEditRequest"
      ]
    },
    "backend/app/models/prospect.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/routers/deck.py",
        "backend/app/routers/email.py"
      ],
      "outgoing": [
        "backend/app/database.py"
      ],
      "policies": [],
      "envs": [],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests",
        "emailaieditrequests"
      ],
      "reqSchemas": [
        "SlideAIEditRequest",
        "EmailAIEditRequest"
      ]
    },
    "backend/app/routers/deck.py": {
      "role": "entrypoint",
      "lane": "api"
    },
    "backend/app/routers/email.py": {
      "role": "entrypoint",
      "lane": "api"
    },
    "backend/app/routers/prospect.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [],
      "outgoing": [
        "backend/app/database.py"
      ],
      "policies": [
        {
          "type": "dependency",
          "name": "Depends",
          "path": "backend/app/routers/prospect.py",
          "appliedAt": "backend/app/routers/prospect.py:11"
        },
        {
          "type": "dependency",
          "name": "Depends",
          "path": "backend/app/routers/prospect.py",
          "appliedAt": "backend/app/routers/prospect.py:30"
        },
        {
          "type": "dependency",
          "name": "Depends",
          "path": "backend/app/routers/prospect.py",
          "appliedAt": "backend/app/routers/prospect.py:34"
        }
      ],
      "envs": [],
      "relatedData": [],
      "reqSchemas": []
    },
    "backend/app/schemas/deck.py": {
      "lane": "api",
      "role": "sink",
      "incoming": [
        "backend/app/routers/deck.py"
      ],
      "outgoing": [],
      "policies": [],
      "envs": [],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests"
      ],
      "reqSchemas": [
        "SlideAIEditRequest"
      ]
    },
    "backend/app/schemas/email.py": {
      "lane": "api",
      "role": "sink",
      "incoming": [
        "backend/app/routers/email.py"
      ],
      "outgoing": [],
      "policies": [],
      "envs": [],
      "relatedData": [
        "emailaieditrequests"
      ],
      "reqSchemas": [
        "EmailAIEditRequest"
      ]
    },
    "backend/app/services/ai.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/routers/deck.py"
      ],
      "outgoing": [
        "backend/app/config.py"
      ],
      "policies": [],
      "envs": [
        "ALLOWED_ORIGINS",
        "APP_BASE_URL",
        "BULLET_MAX_CHARS",
        "DB_URL",
        "FILE_STORAGE_DIR",
        "MAX_BULLETS",
        "OPENAI_API_KEY",
        "STUB_MODE",
        "TITLE_MAX_CHARS"
      ],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests"
      ],
      "reqSchemas": [
        "SlideAIEditRequest"
      ]
    },
    "backend/app/services/emailgeneration.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/routers/email.py"
      ],
      "outgoing": [
        "backend/app/config.py"
      ],
      "policies": [],
      "envs": [
        "ALLOWED_ORIGINS",
        "APP_BASE_URL",
        "BULLET_MAX_CHARS",
        "DB_URL",
        "FILE_STORAGE_DIR",
        "MAX_BULLETS",
        "OPENAI_API_KEY",
        "STUB_MODE",
        "TITLE_MAX_CHARS"
      ],
      "relatedData": [
        "emailaieditrequests"
      ],
      "reqSchemas": [
        "EmailAIEditRequest"
      ]
    },
    "backend/app/services/pdf.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/routers/deck.py"
      ],
      "outgoing": [
        "backend/app/config.py"
      ],
      "policies": [],
      "envs": [
        "ALLOWED_ORIGINS",
        "APP_BASE_URL",
        "BULLET_MAX_CHARS",
        "DB_URL",
        "FILE_STORAGE_DIR",
        "MAX_BULLETS",
        "OPENAI_API_KEY",
        "STUB_MODE",
        "TITLE_MAX_CHARS"
      ],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests"
      ],
      "reqSchemas": [
        "SlideAIEditRequest"
      ]
    },
    "backend/app/services/slides.py": {
      "lane": "api",
      "role": "handler",
      "incoming": [
        "backend/app/routers/deck.py"
      ],
      "outgoing": [
        "backend/app/config.py"
      ],
      "policies": [],
      "envs": [
        "ALLOWED_ORIGINS",
        "APP_BASE_URL",
        "BULLET_MAX_CHARS",
        "DB_URL",
        "FILE_STORAGE_DIR",
        "MAX_BULLETS",
        "OPENAI_API_KEY",
        "STUB_MODE",
        "TITLE_MAX_CHARS"
      ],
      "relatedData": [
        "slidepatchs",
        "slideaieditrequests"
      ],
      "reqSchemas": [
        "SlideAIEditRequest"
      ]
    }
  },
  "debug": {
    "data_flow_skipped": [],
    "extract_errors": []
  },
  "suspectRank": [
    {
      "path": "backend/app/routers/deck.py",
      "score": 12,
      "reason": "High fan-out (8 calls); Critical service/router; Database model"
    },
    {
      "path": "backend/app/routers/email.py",
      "score": 9,
      "reason": "High fan-out (5 calls); Critical service/router; Database model"
    },
    {
      "path": "backend/app/services/emailgeneration.py",
      "score": 5,
      "reason": "Critical service/router; External service dependency"
    }
  ],
  "recentChanges": []
}